[Q]: DOS-сетевые игры в OS/2

[A]: Vladimir Komarov (2:5020/341.20)

    Игры по сети  -  версия 1 от 19-Feb-98

 В свое время был написан FAQ на тему "одноранговая сеть", где я попытался
рассказать, как "с нуля" поставить Peer. Кроме того, там было две строчки
про игры. Hарод бурно отреагировал на призыв "исправить и дополнить", и
две строчки превратились в полноценный документ, который и предлагается
Вашему вниманию. Авторы использованных материалов приведены в конце.
  Данный документ не претендует на истину в последней инстанции и тем
более на полноту, поэтому если вы заметите в нем, мягко говоря, неточности
или захотите что-то добавить, напишите мне об этом _netmail'ом_
(подчеркиваю: _NETMAIL'ОМ_ !!!) на 2:5020/341.20



  Почти все ДОСовские игры для multiplayer требуют IPX. Создать
стек IPX в OS/2 VDM можно двумя способами: установить Netware Requester (что
требует наличия Hетварного сервера) либо загрузить ДОС с дискеты и там
запустить Novell Netware Lite (или прогрузить IPX.COM от ДОСовсого
реквестера). Оба способа проверены и работают. Что же касается IPX в Виндах,
то там он довольно странный и с Hетварным не стыкуется (имеется в виду, на
уровне датаграмм).

 Чтобы при установке сетевых прибамбасов предусмотреть специально для
игрушек возможность работы по IPX, достаточно в список протоколов добавить
"NETWARE Requester support", после чего взять от реквестера Netware (лучше
версии 2.12 и выше, со старыми некоторые проблемы) следующие файлы:

 1/03/94  11:43       9691             0  DDAEMON.EXE
26/04/96  16:12      10560             0  DOSVIPX.SYS
26/04/96  10:16      11828             0  IPX.SYS
26/04/96  10:16       1508             0  IPXCALLS.DLL
11/04/96  14:27      21908             0  LSL.SYS
28/04/96  17:55      91986             0  NCPOS232.DLL
17/06/96  13:12     142014             0  NETOS232.DLL
26/04/96   9:28       1521             0  NETSUB.DLL
11/07/95  20:40     109184             0  NWCALLS.DLL
20/09/94  15:51       3600             0  NWCONFIG.DLL
14/02/96   7:39      34960             0  NWLOCALE.DLL
29/04/96  14:20      37268             0  NWREQ.SYS
 8/05/96  10:12      16884             0  SPX.SYS
 3/07/96  18:11      16921             0  VIPX.SYS
24/04/96   8:50      29995             0  VSHELL.SYS

и прописать тот каталог, куда вы их положите в LIBPATH

В config.sys надо добавить следующие строчки:

=========== Cut Begin =============================
SET NWLANGUAGE=ENGLISH
DEVICE=D:\IBMCOM\NETWARE\LSL.SYS
DEVICE=D:\IBMCOM\PROTOCOL\ODI2NDI.OS2
>^^^^^ Внимание! Эта строка после выполнения первого пункта
>у вас уже должна быть!
DEVICE=D:\IBMCOM\NETWARE\IPX.SYS
DEVICE=D:\IBMCOM\NETWARE\NWREQ.SYS
DEVICE=D:\IBMCOM\NETWARE\VIPX.SYS
REM DEVICE=D:\IBMCOM\NETWARE\VSHELL.SYS GLOBAL
> для некоторых, особо привиредливых прог, придется раскомментировать
RUN=D:\IBMCOM\NETWARE\DDAEMON.EXE
=========== Cut End ==============================

Для проверки - или ручного прописывания -  в вашем protocol.ini должны
содержаться следующие строчки:

=========== Cut Begin =============================
[IBMLXCFG]

   odi2ndi_nif = odi2ndi.nif
   [ ... Все пожрал проклятый долгоносик ... ]

[odi2ndi_nif]

   DriverName = odi2ndi$
   Bindings = ,,FLPCI_nif
   NETADDRESS = ,,"008048EA989D"
> правильно установите netaddress! по доке к карточке. Впрочем, для
> крутых карточек можно прописать любой
   TOKEN-RING = ,,"no"
   TOKEN-RING_SNAP = ,,"no"
   ETHERNET_802.3 = ,,"no"
   ETHERNET_802.2 = ,,"yes"
   ETHERNET_II = ,,"no"
   ETHERNET_SNAP = ,,"no"
   TRACE = 0x0

 Кто знает что-либо о чем-то, здесь не упомянутом - пишите.

 Только еще раз прошу: пишите _HЕТМАЙЛОМ_, не надо засорять эху...

 Большое спасибо тем, кто откликнулся на просьбу "исправить и дополнить":
  Dmitry Ban                 2:5020/1530.33
  Sergey Rogulev             2:5031/7

[A]: Sergey Rogulev (2:5031/7)

 > Bindings = ,,FLPCI_nif
              ^^
Только сейчас заметил - надо yпомянyть, что количество запятых (во всех
пyнктах) зависит от числа логических адаптеpов и может не совпадать.
