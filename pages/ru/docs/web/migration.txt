===== Переход на новую CMS =====

Этот документ был написан во время миграции на инфраструктуру 3-го поколения сайта osFree.

==== История ====

=== Поколение 1 ===

[[http://web.archive.org/web/20020528173506/http://www.osfree.org/]] - это был оригинальный дизайн сайта от John Martin Alfredsson (aka JMA). Более поздний был сделан более аккуратно: [[http://web.archive.org/web/20020802055610/http://www.osfree.org/]]. Этот дизайн датируется 2002 г. и работал без существенных изменений до 2003 г. Используемые технологии: HTML 4 с фреймами. 2003 г. это вторая "смерть" проекта.

=== Поколение 2 ===

В 2003 г. Юрий Прокушев попробовал рестартовать разработку osFree и сделал новый дизайн сайта [[http://web.archive.org/web/20031214050637/www.osfree.org/index.php]] - Это уже сайт 2-го поколения. При этом не было особых изменений в организации сайта до 2006 г. Разве что, простой форум был заменен более удобным форумом на основе движка phpBB в мае 2005 г. Используемые технологии: PHP, шаблоны, движок phpBB, MySQL.

=== Поколение 3 ===

В 2006 г., мы начали думать о более мощной CMS. Были сформулированы задачи. Нам нужно:

  * Возможность быстрого управления сайтом без необходимости трогать настройки хоста (Да, Ким! Теперь мы тебя вообще не будем трогать;))
  * Возможность обновления контента без участия web team (Да, мы для этого слишком ленивые :))
  * Возможность менять дизайн без существенной переработки движка 
  * Система форумов, интегрированная с основной CMS (с использованием общих шаблонов и ACL
  * Система управления проектами, интегрированная с основной CMS (с использованием общих шаблонов и ACL). Да, нам нужна возможность автоматически управлять страницей Roadmap и страницей статуса проекта. И также, для лучшей организации работы проекта.
  * Возможность использования нескольких языков в документации.

После небольшой дискуссии и некоторых экспериментов мы выбрали: 

  * DokuWiki как ядро движка сайта,
    * Потому что wiki позволяют совместную работу над документацией
    * Потому что DokuWiki проста для понимания и модификации
    * Потому что она поддерживает шаблоны и простые для написания плагины, а также плагины для расширения синтаксиса
  * Мы будем продолжать использовать phpBB как нашу систему форумов
    * Потому что не нужно делать архив форрума, а также использовать незнакомую систему
  * Мы посмотрели в сторону dotProject для нашей системы управления проектами (PMS)
    * Потому что она позволит нам легко обновлять статус проекта

Используемые технологии: Слегка модифицированный движок DokuWiki с плугинами, движок phpBB, и MySQL.

==== Основные правила при любой миграции ====

Начиная с самых первых страниц, и кончая самыми новыми, мы следуем основному правилу:

  * Страницы не удаляются совсем. Это означает, что если кто-то сохранил ссылку на одну из страниц, или сделал ссылку на нас у себя на сайте, ему больше не надо обновлять ссылку на более новую. Это означает, что результат будет всегда предсказуем и не будет знаменитой 404 ошибки. Мы не любим битые ссылки.

В результате, у нас все еще есть старый index.html и другие старые html-страницы, которые просто перенаправляют вас на новое место, либо в наиболее близкую тему. У нас до сих пор есть скрипты типа [[http://www.osfree.org/docs/bldlevel/bldlevel.2.0002.php]] и вы будете перенаправлены на [[en:docs:bld:index#extended_build_level_information_type_i]]. Да, такие вещи трудно поддерживать. И это -- один из главных аргументов по поводу выбора wiki, а не любой другой CMS.

  * Пользователь не должен заходить в систему много раз для разных частей сайта. Т.е., пользователь заходит один раз и может пользоваться форумом, CMS, PMS, почтой, CVS и сразу вносить в них изменения, согласно своим правам доступа. Не нужно отдельных систем входа для разных частей сайта.

~~DISCUSSION~~
